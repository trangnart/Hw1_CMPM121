<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Customizing the shared cache locations</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220923"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220923"></script><script type="text/javascript" src="docdata/toc.js?ts=20220923"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20220923"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220923">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="none" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2021.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-config-cache.html">English</a></li>
<li><a href="/cn/current/Manual/upm-config-cache.html">中文</a></li>
<li><a href="/ja/current/Manual/upm-config-cache.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-config-cache.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-config-cache.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-config-cache.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2021.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/upm-config-cache.html">English</a></li>
<li><a href="/cn/current/Manual/upm-config-cache.html">中文</a></li>
<li><a href="/ja/current/Manual/upm-config-cache.html">日本語</a></li>
<li><a href="/es/current/Manual/upm-config-cache.html">Español</a></li>
<li><a href="/kr/current/Manual/upm-config-cache.html">한국어</a></li>
<li><a href="/ru/current/Manual/upm-config-cache.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual 2021.3 (LTS)</a></li>
<li><a href="PackagesList.html"> Packages and feature sets</a></li>
<li><a href="Packages.html"> Unity's Package Manager</a></li>
<li><a href="upm-config.html"> Configuration</a></li>
<li> Customizing the shared cache locations</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-config-scoped.html"></a></span><div class="tip"> Scoped registry authentication</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-ui.html"></a></span><div class="tip"> Package Manager window</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Customizing the shared cache locations</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>By default, the Package Manager uses the following folder structure for its caches:</p>

<pre><code>&lt;global-cache-root&gt;
  ├── npm
  │   └── &lt;registry data (package metadata and tarballs)&gt;
  ├── packages
  │   └── &lt;uncompressed contents of package tarballs&gt;
  └── git-lfs (if enabled)
       └── &lt;downloaded Git LFS files&gt;
</code></pre>

<p>To override the default location of the Package Manager’s global cache root, you can use either the <code>cacheRoot</code> property in the <a href="#cacheconfigFile">user configuration file</a> or set the <code>UPM_CACHE_ROOT</code> <a href="#cacheconfigVar">environment variable</a>.</p>

<p>
<strong>Note</strong>: For macOS and Linux systems, consider using the configuration file strategy for macOS and Linux systems, because it can be hard to launch Unity with environment variables on those systems.</p>

<p>You can also <a href="#cacheconfigVar">set environment variables</a> to override the registry data cache, the uncompressed packages cache, and the Git LFS cache. However, environment values and configuration file properties are not equivalent, so using different methods to configure settings can produce unexpected results.</p>

<p>There are many factors affecting how setting several values with different methods works together:</p>

<ul>
<li>If you set different values for the global cache root with both the <code>UPM_CACHE_ROOT</code> environment variable and the <code>cacheRoot</code> property, Package Manager uses the location in the <code>UPM_CACHE_ROOT</code> environment variable.</li>
<li>If you set an environment variable for the registry data cache (<code>UPM_NPM_CACHE_PATH</code>), the uncompressed packages cache (<code>UPM_CACHE_PATH</code>), or the Git LFS cache (<code>UPM_GIT_LFS_CACHE_PATH</code>), Package Manager uses the location specified by the environment variable, regardless of where the global cache root is.</li>
<li>When you use a user configuration file, the change is applied to the current user account.</li>
<li>If you enable the Git LFS cache (<code>UPM_ENABLE_GIT_LFS_CACHE</code>) without explicitly setting its path (<code>UPM_GIT_LFS_CACHE_PATH</code>), Package Manager uses the <code>git-lfs</code> folder under the global cache root as its location.</li>
</ul>

<p><a name="cacheconfigFile"></a></p>

<h2>Using a configuration file</h2>

<p>Follow these instructions to override the location of the <a href="upm-cache.html">global cache root</a>:</p>

<ol>
<li><p>Locate the <code>.upmconfig.toml</code> user configuration file. To find the file location, see <a href="#upmconfigUser">Configuration files</a>. If the file doesn’t exist, create an empty text file.</p></li>
<li>
<p>Set the <code>cacheRoot</code> property to a custom location with an absolute path. For example:</p>

<pre><code class="lang-toml">cacheRoot = &quot;/dev/external/shared/Unity/cache&quot;
</code></pre>
</li>
</ol>

<p>You don’t need to restart the Unity Editor or the Hub after updating the <code>cacheRoot</code> property for them to take effect.</p>

<p><a name="cacheconfigVar"></a></p>

<h2>Using environment variables</h2>

<p>You can use environment variables to configure several settings for the Package Manager. However, in order for these settings to apply, you have to launch Unity or the Hub from a terminal or command prompt where those environment variables have been defined and exported every time.</p>

<p>For example, you can run these commands in a macOS or Linux terminal to configure the location of the global cache root and enable the Git LFS cache:</p>

<pre><code class="lang-bash"># On macOS/Linux:
export UPM_CACHE_ROOT=/dev/ssd/shared/Unity/cache
export UPM_ENABLE_GIT_LFS_CACHE=true
echo &quot;Launching Unity with the Git LFS cache enabled and using this global cache location: '$UPM_CACHE_ROOT'&quot;
&quot;/Applications/Unity Hub.app/Contents/MacOS/Unity Hub&quot;
</code></pre>

<p>This Windows example configures the locations of both the global cache root and the Git LFS cache:</p>

<pre><code class="lang-powershell"># On Windows:
set UPM_CACHE_ROOT=%ALLUSERSPROFILE%\Unity\cache
set UPM_GIT_LFS_CACHE_PATH=%ALLUSERSPROFILE%\repos\caches\lfs
echo &quot;Launching Unity with this global cache location: '%UPM_CACHE_ROOT%'&quot;
echo &quot;... and this Git LFS cache location: '%UPM_GIT_LFS_CACHE_PATH%'&quot;
&quot;C:\Program Files\Unity Hub\Unity Hub.exe&quot;
</code></pre>

<p>The following environment variables are available:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Environment variable:</strong></th>
	<th style="text-align:left;"><strong>Description:</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>UPM_CACHE_ROOT</code></td>
	<td style="text-align:left;">Specify the location of the <a href="upm-cache.html">global cache</a> (the root folder containing the registry data and uncompressed packages caches).</td>
</tr>
<tr>
	<td style="text-align:left;"><code>UPM_NPM_CACHE_PATH</code></td>
	<td style="text-align:left;">Specify the absolute path to the location where you want Package Manager to store package metadata and tarballs. By default, this is the <code>npm</code> subfolder under the global cache root.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>UPM_CACHE_PATH</code></td>
	<td style="text-align:left;">Specify the absolute path to the location where you want Package Manager to store the uncompressed contents of package tarballs. By default, this is the <code>packages</code> subfolder under the global cache root.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>UPM_ENABLE_GIT_LFS_CACHE</code></td>
	<td style="text-align:left;">Specify any value except empty (&quot;&quot;) to enable the Git LFS cache. By default, Package Manager uses the <code>git-lfs</code> subfolder under the global cache root, unless you specify a different path using the <code>UPM_GIT_LFS_CACHE_PATH</code> environment variable.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>UPM_GIT_LFS_CACHE_PATH</code></td>
	<td style="text-align:left;">Specify the absolute path to the location where you want Package Manager to store <a href="upm-git.html#git-lfs">the Git LFS cache</a>. By setting this path, you automatically enable the Git LFS cache.</td>
</tr>
</tbody>
</table>

<p><a name="upmconfig"></a></p>

<h1>Configuration files</h1>

<p>Package Manager supports two configuration files: a global configuration file and a user configuration file. Both of these files use the <a href="https://en.wikipedia.org/wiki/TOML">TOML</a> format and they appear in different locations:</p>

<ul>
<li>
<strong>Global</strong> configuration files apply to all users on the machine. For example, you can define additional <a href="upm-config-network.html#SSL">SSL certificate authorities</a> when setting up a proxy server for the entire machine.</li>
<li>
<strong>User</strong> configuration files apply to a single user. For example, you can set up <a href="upm-config-scoped.html">authentication tokens</a> to use for custom package registry servers that you access with scoped registries. These tokens authenticate a specific user account.</li>
</ul>

<p><a name="upmconfigGlobal"></a></p>

<h2>Global configuration file location</h2>

<p>Package Manager uses a global configuration file named <code>upmconfig.toml</code>, which you can find here:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Environment:</strong></th>
	<th style="text-align:left;"><strong>Location:</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Windows</td>
	<td style="text-align:left;"><code>%ALLUSERSPROFILE%\Unity\config\upmconfig.toml</code></td>
</tr>
<tr>
	<td style="text-align:left;">macOS and Linux</td>
	<td style="text-align:left;"><code>/etc/upmconfig.toml</code></td>
</tr>
</tbody>
</table>

<p><a name="upmconfigUser"></a></p>

<h2>User configuration file location</h2>

<p>Package Manager uses a user configuration file named <code>.upmconfig.toml</code>, which you can find here:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Environment:</strong></th>
	<th style="text-align:left;"><strong>Location:</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Windows (user account)</td>
	<td style="text-align:left;">
<code>%USERPROFILE%\.upmconfig.toml</code> (for example, <code>C:\Users\myusername\.upmconfig.toml</code>)</td>
</tr>
<tr>
	<td style="text-align:left;">Windows (<a href="https://docs.microsoft.com/en-us/windows/security/identity-protection/access-control/local-accounts#default-local-system-accounts">system user account</a>)</td>
	<td style="text-align:left;">
<code>%ALLUSERSPROFILE%\Unity\config\ServiceAccounts\.upmconfig.toml</code> (for example, <code>C:\Users\Public\Unity\config\ServiceAccounts\.upmconfig.toml</code>)</td>
</tr>
<tr>
	<td style="text-align:left;">macOS and Linux</td>
	<td style="text-align:left;">
<code>~/.upmconfig.toml</code> (for example, <code>/Users/myusername/.upmconfig.toml</code>)</td>
</tr>
</tbody>
</table>

<p><br></p>

<hr>

<p><br></p>

<ul>
<li><span class="page-history">Setting the global cache root now supported in Package Manager configuration files in Unity <a href="https://docs.unity3d.com/2021.2/Documentation/Manual/30_search.html?q=newin20212">2021.2</a> <span class="search-words">NewIn20212</span></span></li>
</ul>
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="upm-config-scoped.html"></a></span><div class="tip"> Scoped registry authentication</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="upm-ui.html"></a></span><div class="tip"> Package Manager window</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2021 Unity Technologies. Publication Date: 2022-09-23.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
