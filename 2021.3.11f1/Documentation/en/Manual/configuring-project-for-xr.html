<!DOCTYPE html><html lang="en" class="no-js">
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<script type="text/javascript" src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
					function OptanonWrapper() { }
				</script><script>var offline=(location.href.indexOf('docs.unity3d.com')==-1)?true:false;if(!offline){(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=   'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);  })(window,document,'script','dataLayer','GTM-5V25JL6');}</script><link href="https://fonts.googleapis.com/css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unity - Manual:  Configuring your Unity Project for XR</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFilesManual/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFilesManual/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFilesManual/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFilesManual/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFilesManual/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFilesManual/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFilesManual/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFilesManual/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://docs.unity3d.com/StaticFilesConfig/UnityVersionsInfo.js"></script><script type="text/javascript" src="../StaticFilesManual/js/jquery.js?ts=20220923"></script><script type="text/javascript" src="../StaticFilesManual/js/core.js?ts=20220923"></script><script type="text/javascript" src="docdata/toc.js?ts=20220923"></script><script type="text/javascript" src="docdata/global_toc.js?ts=20220923"></script><link rel="stylesheet" type="text/css" href="../StaticFilesManual/css/core.css?ts=20220923">
<link rel="stylesheet" href="../StaticFilesManual/css/prism.css">
<script src="../StaticFilesManual/js/prism.js"></script><script src="/StaticFilesConfig/feedback/feedback.js"></script><script src="../StaticFilesManual/js/jquery.sidebar.min.js"></script><link rel="stylesheet" href="../StaticFilesManual/css/mobileoptimisation.css">
<script src="../StaticFilesManual/js/mobileoptimisation.js"></script>
</head>
<body>
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div id="DocsAnalyticsData" data-area="platforms" data-pagetype="manual"></div>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="https://docs.unity3d.com"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul>
<li><a href="../Manual/index.html" class="selected">Manual</a></li>
<li><a href="../ScriptReference/index.html">Scripting API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity.com/">unity3d.com</a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="toggle version-number" id="VersionNumber" data-target=".otherversionscontent">
                                Version: <b>2021.3</b><div class="otherversionscontent" id="OtherVersionsContent" style="display: none;">
<ul id="OtherVersionsContentUl"></ul>
<div id="otherVersionsLegend"><ul>
<li>
<div id="supportedColour" class="legendBox"></div>Supported</li>
<li>
<div id="notFoundColour" class="legendBox"></div>Legacy</li>
</ul></div>
</div>
<div id="VersionSwitcherArrow" class="arrow versionSwitcherArrow"></div>
</div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/configuring-project-for-xr.html">English</a></li>
<li><a href="/cn/current/Manual/configuring-project-for-xr.html">中文</a></li>
<li><a href="/ja/current/Manual/configuring-project-for-xr.html">日本語</a></li>
<li><a href="/es/current/Manual/configuring-project-for-xr.html">Español</a></li>
<li><a href="/kr/current/Manual/configuring-project-for-xr.html">한국어</a></li>
<li><a href="/ru/current/Manual/configuring-project-for-xr.html">Русский</a></li>
</ul></div>
</div></div>
</div></div>
<div class="mobileLogo"><a href="https://docs.unity3d.com"></a></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc" id="customScrollbar">
<h2>Unity Manual</h2>
<div class="search-form sidebar-search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="Search manual..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" id="mobileSearchBtn" class="submit" value="Search">
</form></div>
<div class="toggle version-number sidebar-version-switcher" id="VersionNumber" data-target=".otherversionscontent"><form id="otherVersionsContentMobileForm"><div class="ui-field-contain">
<label for="select-native-4">Version: 2021.3</label><select name="select-native-4" id="versionsSelectMobile"><option>Select a different version</option>
<optgroup id="versionsWithThisPageMobile" label="Versions with this page"></optgroup>
<optgroup id="versionsWithoutThisPageMobile" label="Versions without this page"></optgroup></select>
</div></form></div>
<div class="lang-switcher"><div class="current toggle" data-target=".lang-list">
<div class="lbl">Language
:                <span class="b">English</span>
</div>
<div class="arrow"></div>
<div class="lang-list" style="display:none;"><ul>
<li><a href="/Manual/configuring-project-for-xr.html">English</a></li>
<li><a href="/cn/current/Manual/configuring-project-for-xr.html">中文</a></li>
<li><a href="/ja/current/Manual/configuring-project-for-xr.html">日本語</a></li>
<li><a href="/es/current/Manual/configuring-project-for-xr.html">Español</a></li>
<li><a href="/kr/current/Manual/configuring-project-for-xr.html">한국어</a></li>
<li><a href="/ru/current/Manual/configuring-project-for-xr.html">Русский</a></li>
</ul></div>
</div></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html"> Unity User Manual 2021.3 (LTS)</a></li>
<li><a href="XR.html"> XR</a></li>
<li> Configuring your Unity Project for XR</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="XRPluginArchitecture.html"></a></span><div class="tip"> XR Plug-in Framework</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="xr-render-pipeline-compatibility.html"></a></span><div class="tip"> Universal Render Pipeline compatibility in XR</div>
</div>
</div></div>
<div id="_leavefeedback"></div>
<h1>Configuring your Unity Project for XR</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>
<a name="configuring-project-for-xr"></a>To configure your Unity Project for XR, follow these steps:</p>

<ol>
<li>Open the <strong>Project Settings</strong> window (menu: <strong>Edit &gt; Project Settings</strong>), and select <strong>XR Plug-in Management</strong>.</li>
<li>Click <strong>Install XR <span class="notooltip">Plug-in</span> Management</strong> if the package hasn’t been installed already. You can also install it from the <strong>Package Manager</strong> window.</li>
<li>After installation completes, select a <strong><span class="tooltip"><strong>Plug-in</strong><span class="tooltiptext">A set of code created outside of Unity that creates functionality in Unity. There are two kinds of plug-ins you can use in Unity: Managed plug-ins (managed .NET assemblies created with tools like Visual Studio) and Native plug-ins (platform-specific native code libraries). <a class="tooltipMoreInfoLink" href="Plugins.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Plug-in">Glossary</a></span></span></span> Provider</strong> to enable it for the corresponding build target. To do this:

<ol>
<li>Select a build target (for example, Android).</li>
<li>Select the checkbox to the left of each plug-in you want to use for that build target.</li>
</ol>
</li>
<li>After a plug-in loads, it displays in the left-hand navigation, under <span class="tooltip"><strong>XR</strong><span class="tooltiptext">An umbrella term encompassing Virtual Reality (VR), Augmented Reality (AR) and Mixed Reality (MR) applications. Devices supporting these forms of interactive applications can be referred to as XR devices. <a class="tooltipMoreInfoLink" href="XR.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#XR">Glossary</a></span></span></span> Plug-in Management. Click the plug-in to configure its settings for each build target.</li>
<li>To set up tracking, from Unity’s main menu, go to GameObject &gt; XR &gt; Add XR Rig.</li>
</ol>

<p><strong>Notes:</strong></p>

<ul>
<li>Selecting an XR plug-in provider enables that provider for the corresponding build target. Unity automatically installs the plug-in package if it’s not already present.</li>
<li>Disabling plug-ins doesn’t automatically uninstall existing packages. Uninstall provider plug-ins from the <a href="upm-ui.html">Package Manager</a>.</li>
<li>For a list of third-party plug-ins, see [VROverview](Getting Started with VR Development).</li>
</ul>

<h2>Setting up tracking in the XR plug-in framework</h2>

<p>Implicit <span class="tooltip"><strong>camera</strong><span class="tooltiptext">A component which creates an image of a particular viewpoint in your scene. The output is either drawn to the screen or captured as a texture. <a class="tooltipMoreInfoLink" href="CamerasOverview.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Camera">Glossary</a></span></span></span> tracking, used in Unity versions prior to 2019.3, has been removed in the new XR plug-in framework. Implicit tracking worked for simple, HMD-only applications, but wasn’t as intuitive when used in correlation with controllers and other interactions.</p>

<p>To make sure XR tracking is properly configured with the XR plug-in framework, follow the steps below.</p>

<h2>Starting from a new Scene</h2>

<p>The instructions below apply if you start from a new <span class="tooltip"><strong>Scene</strong><span class="tooltiptext">A Scene contains the environments and menus of your game. Think of each unique Scene file as a unique level. In each Scene, you place your environments, obstacles, and decorations, essentially designing and building your game in pieces. <a class="tooltipMoreInfoLink" href="CreatingScenes.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Scene">Glossary</a></span></span></span>, or from a Scene which meets the following conditions:</p>

<ul>
<li>There is only one Camera in the Scene, and that Camera is tagged as the Main Camera.</li>
<li>The Camera in the Scene is at the root of the hierarchy.</li>
</ul>

<p>From Unity’s main menu, go to <strong>GameObject &gt; XR &gt; Add XR Rig</strong>. This attempts to transform your new Scene into a Scene that correctly supports the XR Plug-in Framework.</p>

<p>If you don’t see any errors in the console log, you should now be able to click <strong>Play</strong> in your Scene, and see the Camera track against the device you’ve configured in the XR Plug-in Management package.</p>

<p>If Unity can’t migrate your Scene correctly, an error displays in the console log. Follow the instructions in the <strong>Starting from an existing Scene</strong> section below.</p>

<h2>Starting from an existing Scene</h2>

<p>Migrating from an existing Scene has additional steps compared to migrating an empty Scene. As a result, there are different options depending on how your Scene is configured. The overall goal is to have the Scene track in the same way as it did before migrating to the XR Plug-in Framework.</p>

<h3>Identify your Scene type</h3>

<p>Find the Camera in your Scene which is tagged as the Main Camera. Unity uses this Camera to render to the HMD or other main device.</p>

<p>If the Main Camera <span class="tooltip"><strong>GameObject</strong><span class="tooltiptext">The fundamental object in Unity scenes, which can represent characters, props, scenery, cameras, waypoints, and more. A GameObject’s functionality is defined by the Components attached to it. <a class="tooltipMoreInfoLink" href="class-GameObject.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#GameObject">Glossary</a></span></span></span>:</p>

<ul>
<li>Is at the root of your Project’s hierarchy, follow the steps for Migrating a simple Scene.</li>
<li>Is not at the root of your Project’s hierarchy, follow the steps for Migrating a complex Scene.</li>
</ul>

<h3>Migrating a simple Scene</h3>

<p>To migrate a simple Scene, follow the steps below.</p>

<h4>1. Create an instance of the XR Rig Prefab.</h4>

<p>Migrating a Camera that was previously at the root of the Scene hierarchy allows you to swap the existing Camera to an XR Rig by instancing the XR Rig <span class="tooltip"><strong>Prefab</strong><span class="tooltiptext">An asset type that allows you to store a GameObject complete with components and properties. The prefab acts as a template from which you can create new object instances in the scene. <a class="tooltipMoreInfoLink" href="Prefabs.html">More info</a><br/><span class="tooltipGlossaryLink">See in <a href="Glossary.html#Prefab">Glossary</a></span></span></span> that this package contains.</p>

<p>You can find this Prefab in the <code>Packages/XR Legacy Input Helpers/Prefabs</code> folder. Drag the Prefab into your Scene hierarchy to create a new instance of it.</p>

<h4>2. Move the XR Rig to match the Camera’s location.</h4>

<p>Now that you have an instance of the XR Rig Prefab, you need to configure the XR Rig GameObject so the resulting Camera positions will be correct when your application starts.</p>

<p>Change the position and rotation of the XR Rig GameObject so it matches the position of the current Main Camera. If you’re applying a scale transformation to the Main Camera, make sure that you also apply this scale to the XR Rig GameObject. If you scale the XR Rig, it’s highly recommended to use a uniform scale across all three axes.</p>

<h4>3. Replicate the position change, if necessary.</h4>

<p>If the Main Camera in your non-migrated Scene is above the floor (its Y component is &gt; 0.0f), you need to replicate this position change. You can do this in a few different ways, depending on what the original position the change was intended to replicate.</p>

<p><strong>3.1 - Uplift to simulate the height of the user</strong></p>

<p>If the previous Main Camera was raised above the floor to simulate the height of the user and the application uses a Device Tracking Origin (sometimes called “Stationary” Tracking Mode), the <a href="https://docs.unity3d.com/Packages/com.unity.xr.legacyinputhelpers@latest?subfolder=/manual/index.html#Camera-Offset">Camera Offset</a> component performs this additional uplift. Otherwise, see the next section.</p>

<p>To configure the Camera to have a vertical uplift when the application is being used in a Device Tracking Origin mode, set the following options on the <strong>Camera Offset</strong> component on the XR Rig GameObject:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Option</strong></th>
	<th style="text-align:left;"><strong>Value</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><strong>Requested Tracking Mode</strong></td>
	<td style="text-align:left;">Device</td>
</tr>
<tr>
	<td style="text-align:left;"><strong>Camera Y Offset</strong></td>
	<td style="text-align:left;">Set this option to the height at which the existing Main Camera is raised to simulate user height.</td>
</tr>
</tbody>
</table>

<p>After you configure these options, change the XR Rig GameObject’s <strong>Y Position</strong> to be what you would consider as the “floor” in your application (usually 0.0f). The <strong>Camera Offset</strong> component adds any additional uplift as needed.</p>

<p><strong>3.2 - Uplift indicates camera position</strong></p>

<p>If your non-migrated Scene uses Floor Tracking Origin (historically referred to as “Room Scale” Tracking Mode), and the position of the Main Camera represents the user’s starting point without including their height (that is, the camera is effectively on the logical “floor”), follow these steps to migrate your Scene correctly:</p>

<ul>
<li>Move the XR Rig to match the Main Camera’s current position and rotation in Unity world space.</li>
<li>If the application is using a Floor Tracking Origin, set the <strong>Requested Tracking Mode</strong> on the <strong>Camera Offset</strong> component to Floor. This ensures that the camera has the correct vertical offset.</li>
<li>If the application isn’t using a Floor Tracking Origin, set the <strong>Requested Tracking Mode</strong> on the <strong>Camera Offset</strong> component to Default. This applies the correct behavior regardless of the device tracking mode the application starts with.</li>
<li>If you were previously using a different component to move the Camera vertically and handle the difference between Device and Floor tracking origins, you might need to disable or modify this component so different components don’t incorrectly move the Camera multiple times.</li>
</ul>

<p>Next, delete the Main Camera GameObject from the XR Rig instance, and parent your existing Main Camera GameObject to the Camera Offset GameObject.</p>

<p>Make sure that the position and rotation of your Main Camera GameObject are both 0,0,0. Instead of changing the camera’s position, always change the position of the XR Rig GameObject. Also, make sure that any links from GameObjects or components to your Main Camera are still correct.</p>

<h4>5. Configure your Project for XR</h4>

<p>See the <a href="configuring-project-for-xr.html">Configuring your Unity Project for XR</a> section above.</p>

<h4>6. Press Play</h4>

<p>Now that your Scene has been successfully migrated, press <strong>Play</strong> and make sure that the camera’s starting location is the same as it was before migrating to the XR Plugin Framework. If it’s not, see the Troubleshooting section below.</p>

<h3>Migrating a complex Scene</h3>

<p>If your current Scene is using the implicit camera tracking from the legacy VR system, and the Main Camera is part of the GameObject hierarchy, follow these steps to migrate your legacy VR tracking system to the XR Plugin Framework.</p>

<p>The Implicit camera update would update the local transform of the Main Camera GameObject twice each frame, which made the Main Camera GameObject move relative to the position, scale and rotation of the hierarchy that it existed under.</p>

<p>In this scenario, you have two options to migrate your Scene:</p>

<ol>
<li><a href="#leave-in-place">Leave the existing hierarchy in place and add components to enable tracking in the current hierarchy</a></li>
<li><a href="#migrate-to-xr-rig">Migrate the existing hierarchy to use the XR Rig structure.</a></li>
</ol>

<p>It’s generally recommended to leave the existing hierarchy in place if your Scene has functionality that relies on this hierarchy structure. If you have a relatively simple configuration, you can migrate directly to the XR Rig.</p>

<h4>Leave in place <a name="leave-in-place"></a>
</h4>

<p>This method involves the least amount of modifications to the existing Scene hierarchy to enable tracking within Unity. It involves adding a Tracked Pose Driver to the Main Camera in your Scene. This ensures that any other functionality that requires your current GameObject hierarchy continues to function as before.</p>

<h4>1. Locate your Main Camera and add a Tracked Pose Driver to it</h4>

<p>Locate the Main Camera in the Scene.</p>

<p>Add a Tracked Pose Driver, using the same settings that the XR Rig’s Main Camera uses. The screenshot below shows these settings:</p>

<figure>
<img src="../uploads/Main/xr-rig-tpd-defaults.png" alt="Tracked Pose Driver settings">
<figcaption>Tracked Pose Driver settings</figcaption>
</figure>

<p>Do this for all the Main Cameras in your Scene. If you need to track other devices within your Scene, see the Tracked Pose Driver settings for the correct options for your use case.</p>

<h4>2. Configure your Project for XR</h4>

<p>See the <a href="configuring-project-for-xr.html">Configuring your Unity Project for XR</a> section above.</p>

<h4>3. Press Play</h4>

<p>Now that your Scene has been successfully migrated, press <strong>Play</strong> and make sure that the Camera’s starting location is the same as it was before migrating to the XR Plugin Framework. If it’s not, see the <a href="#troubleshooting">Troubleshooting</a> section below.</p>

<h4>Migrate to XR Rig <a name="migrate-to-xr-rig"></a>
</h4>

<p>Because there are an infinite number of possible hierarchies in use, Unity can’t provide specific steps to migrate your current Scene hierarchy to use the XR Rig. See the <a href="https://docs.unity3d.com/Packages/com.unity.xr.legacyinputhelpers@latest?subfolder=/manual/index.html#XR-Rig-explanation">XR Rig explanation</a> section of the Legacy Input Helpers package documentation to understand what the XR Rig is intended to represent. This will allow you to map your existing hierarchy to the concepts within the XR Rig.</p>

<p>To configure your scene to use XR Management, see the <a href="configuring-project-for-xr.html">Configuring your Unity Project for XR</a> section above.</p>

<p>If there are still issues, see the <a href="#troubleshooting">Troubleshooting</a> section below.</p>

<h3>Troubleshooting <a name="troubleshooting"></a>
</h3>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;"><strong>Issue</strong></th>
	<th style="text-align:left;"><strong>Possible causes</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;">Camera is too high in the Scene</td>
	<td style="text-align:left;">Is the Camera Offset component’s Requested Tracking Mode set correctly?<br><br>Is the Camera Y Offset set too high?</td>
</tr>
</tbody>
</table>
<!-- area:platforms -->
<div id="_content"></div>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="XRPluginArchitecture.html"></a></span><div class="tip"> XR Plug-in Framework</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="xr-render-pipeline-compatibility.html"></a></span><div class="tip"> Universal Render Pipeline compatibility in XR</div>
</div>
</div>
</div>
<div class="footer-wrapper"><div class="footer clear">
<div class="copy">Copyright © 2021 Unity Technologies. Publication Date: 2022-09-23.</div>
<div class="menu">
<a href="https://learn.unity.com/">Tutorials</a><a href="https://answers.unity3d.com">Community Answers</a><a href="https://support.unity3d.com/hc/en-us">Knowledge Base</a><a href="https://forum.unity3d.com">Forums</a><a href="https://unity3d.com/asset-store">Asset Store</a><a href="https://docs.unity3d.com/Manual/TermsOfUse.html">Terms of use</a>
</div>
</div></div>
</div></div></div>
</div>
</body>
</html>
